{% extends "base.html" %}

{% block title %}Login - Smart QR Shopping{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-box">
        <h1>Welcome to Smart QR Shopping</h1>

        <!-- Tab Navigation -->
        <div class="auth-tabs">
            <button class="tab-btn active" onclick="showTab('login')">Login</button>
            <button class="tab-btn" onclick="showTab('register')">Register</button>
        </div>

        <!-- Login Form -->
        <div id="login-form" class="auth-form active">
            <h2>Login</h2>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn-primary">Login</button>
            </form>
        </div>

        <!-- Register Form -->
        <div id="register-form" class="auth-form">
            <h2>Register {% if role %}as {{ 'Customer' if role == 'customer' else 'Store Owner' }}{% endif %}</h2>
            <form onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="register-password" required>
                </div>

                {% if role %}
                <input type="hidden" id="register-role" value="{{ role }}">
                {% else %}
                <div class="form-group">
                    <label>I am a:</label>
                    <select id="register-role" required>
                        <option value="">Select Role</option>
                        <option value="customer">Customer</option>
                        <option value="store_owner">Store Owner</option>
                    </select>
                </div>
                {% endif %}

                <button type="submit" class="btn-primary">Register</button>
            </form>
        </div>

        <div id="message" class="message"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}